---
layout: post
title: "Thanks for inventing JavaScript"
image: "/assets/post-images/thanks-for-inventing-javascript.png"
edited_at: 2024-01-11
tags:
- JavaScript
- ì–¸ì–´
- íˆ¬ì •
comments: true
---

{:ol2: style="list-style-type: lower-alpha;"}
{:ol3: style="list-style-type: lower-roman;"}

![JavaScriptì˜ íŠ¹ì´í•œ ì½”ë“œ ì‹¤í–‰ ê²°ê³¼ ì—¬ëŸ¬ ê°œê°€ ìˆê³  ê·¸ ë°‘ì— ì‚¬ëŒì˜ ì–¼êµ´ê³¼ "Thanks for inventing Javascript"ë¼ëŠ” ë¬¸êµ¬ë¥¼ ë‹¬ì•„ ë‘ì—ˆë‹¤.](/assets/post-images/thanks-for-inventing-javascript.png)

ì–´ë¦° ì‹œì ˆ(ë‚˜ì´ê°€ 1ìë¦¬ ìˆ˜ì˜€ì„ ë•Œë¡œ ê¸°ì–µí•˜ê³  ìˆìŠµë‹ˆë‹¤)ì— HTML í•™ìŠµ ì‚¬ì´íŠ¸ì— ì˜¬ë¼ì˜¨ ìë°”ìŠ¤í¬ë¦½íŠ¸ ë‹¬ë ¥ ì½”ë“œë¥¼ ë³´ê³  ë”°ë¼í•´ë³¸ ì ì´ ìˆì—ˆìŠµë‹ˆë‹¤(ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤). ë˜ ë‚˜ì´ê°€ ë” ë“¤ê³  ë‚˜ì„œëŠ” ìœ ëª…í•œ ì›¹ê²Œì„ì¸ [Cookie Clicker](https://orteil.dashnet.org/cookieclicker/)ì˜ í•œêµ­ì–´ ë²ˆì—­ í”ŒëŸ¬ê·¸ì¸ì„ ë§Œë“¤ë‹¤ê°€ ë˜ì§„ ê¸°ì–µì´ ìˆìŠµë‹ˆë‹¤.

ê¸€ ì‹œì‘ë¶€í„° ì¢€ ëœ¬ê¸ˆì—†ëŠ” ì–˜ê¸°ë¥¼ í•˜ê¸´ í–ˆëŠ”ë°, ì•„ë¬´íŠ¼ ì´ëŸ°ì €ëŸ° ì´ìœ ë¡œ ìë°”ìŠ¤í¬ë¦½íŠ¸ê°€ ë§ˆìŒì˜ ê³ í–¥ì¸ ì €ì—ê²Œ ì´ "Thanks for inventing JavaScript" ì§¤ì„ ë³´ë©´ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì–µì§€ë¡œ ê¹Œê³  ìˆëŠ” ê²ƒ ê°™ì•„ ì‹ ê²½ì“°ì´ëŠ” ì ì´ í•œë‘ ê°€ì§€ê°€ ì•„ë‹™ë‹ˆë‹¤.

2022ë…„ì— ì´ ì‹ ê²½ì“°ì´ëŠ” ì ì„ ëª» ì´ê²¨ ì´ ë¸”ë¡œê·¸ ê¸€ì„ ì²˜ìŒ ì‘ì„±í–ˆê³  2024ë…„ 1ì›” 10ì¼ í˜„ì¬ ì‹œí¬ë¦¿ ëª¨ë“œë¡œ Googleì— `thanks for inventing javascript`ì„ ê²€ìƒ‰í•œ ê²°ê³¼ì— ì²« ë²ˆì§¸ë¡œ ì˜¬ë¼ì™€ ìˆëŠ”ë°, [ë‘ ë²ˆì§¸ë¡œ ì˜¬ë¼ì™€ ìˆëŠ” ì´ ê¸€](https://velog.io/@bami/Thanks-for-inventing-Javascript)ì„ ë¬¸ë“ ì½ì–´ë³´ë‹ˆ ì œê°€ ì²˜ìŒ ì¼ë˜ ê¸€ë³´ë‹¤ í›¨ì”¬ ì •ì„±ì´ ëŠê»´ì ¸ ë¶€ë„ëŸ¬ì› ìŠµë‹ˆë‹¤. ê·¸ëŸ° ì˜ë¯¸ë¡œ ì›ë˜ë³´ë‹¤ ë” ê¸¸ê³  ìì„¸í•˜ê²Œ ê¸€ì„ ì¬ì‘ì„±í–ˆëŠ”ë°, ë” ê¹Šì´ ìˆëŠ” ê¸€ì´ ë˜ì—ˆìœ¼ë©´ ì¢‹ê² ìŠµë‹ˆë‹¤.

ì´ ê¸€ì—ì„œ ì–¸ê¸‰í•˜ëŠ” í‘œì¤€ ë¬¸ì„œëŠ” [ECMAScript 2024](https://tc39.es/ecma262/multipage/)ë¡œ, ë…ìì˜ í¸ì˜ë¥¼ ìœ„í•´ ê¸€ì“´ì´ê°€ ì„ì˜ë¡œ ë²ˆì—­í–ˆìŠµë‹ˆë‹¤. í•´ë‹¹ í‘œì¤€ì—ì„œ ì •ì˜í•´ì„œ ì‚¬ìš©í•˜ëŠ” ë‚´ë¶€ ì—°ì‚° ë° í‘œê¸°ë„ ê·¸ëŒ€ë¡œ ì˜®ê²¼ì§€ë§Œ, ê¸€ì„ ì´í•´í•˜ëŠ” ë° í•„ìš”í•œ ê²ƒì€ ì•„ë‹ˆê³  ì•Œê³ ë¦¬ì¦˜ì˜ ì „ì²´ì ì¸ íë¦„ë§Œ ì´í•´í•˜ë©´ ë©ë‹ˆë‹¤. ë‹¨, ì•„ë˜ í‘œê¸°ëŠ” ì•Œì•„ë‘ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.

* *ê¸°ìš¸ì„ê¼´*ë¡œ ëœ í…ìŠ¤íŠ¸ëŠ” ë³€ìˆ˜ëª…ì…ë‹ˆë‹¤. ì œê°€ ì‹¤ìˆ˜ë¡œ ê¸°ìš¸ì„ê¼´ ì²˜ë¦¬í•˜ì§€ ëª»í•œ ë³€ìˆ˜ëª…ì´ ìˆì„ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.
* **êµµì€** í…ìŠ¤íŠ¸ëŠ” JavaScript ê°’ì…ë‹ˆë‹¤.
	* ë‹¨, ì´ ê¸€ì—ì„œëŠ” ì•„ë˜ ì²¨ìë¥¼ ì¶”ê°€í•˜ê¸° ìœ„í•´ Number ê°’ì€ **êµµì€** í…ìŠ¤íŠ¸ ëŒ€ì‹  ìˆ˜ì‹ í…ìŠ¤íŠ¸ë¡œ ì‘ì„±í•©ë‹ˆë‹¤.
* JavaScriptì˜ Number ê°’ì€ ì•„ë˜ ì²¨ì $$\mathbb{F}$$ë¥¼ ë¶™ì—¬ ìˆ˜í•™ì  ì‹¤ìˆ˜ ê°’ê³¼ êµ¬ë¶„í•©ë‹ˆë‹¤.

ì°¸ê³ ë¡œ êµ¬ê¸€ ì´ë¯¸ì§€ê²€ìƒ‰ì„ í•´ë³¸ ê²°ê³¼ ì´ ì´ë¯¸ì§€ëŠ” 2018ë…„ 6ì›” 21ì¼ì— [ë ˆë”§ì˜ r/ProgrammerHumorì— ì²˜ìŒ ì˜¬ë¼ì™”ë˜ ê²ƒ](https://www.reddit.com/r/ProgrammerHumor/comments/8srix1/thanks_brendan_for_giving_us_the_javascript/)ìœ¼ë¡œ ë³´ì…ë‹ˆë‹¤. ì´ ì´ì „ì˜ ê²€ìƒ‰ê²°ê³¼ ì¤‘ ì‹¤ì œë¡œ í•´ë‹¹ ì´ë¯¸ì§€ê°€ ìˆëŠ” í˜ì´ì§€ëŠ” ì°¾ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.

# `typeof NaN`

## ì–´ë–»ê²Œ ëœ ê±¸ê¹Œ?

`typeof` ì—°ì‚°ìì˜ [13.5.3.1 "ëŸ°íƒ€ì„ ì˜ë¯¸ë¡ : í‰ê°€ê°’"][13.5.3.1]ì—ì„œ `typeof` ì—°ì‚°ìì˜ ì•Œê³ ë¦¬ì¦˜ì„ í™•ì¸í•  ìˆ˜ ìˆëŠ”ë°, ì¤‘ìš”í•˜ê²Œ ë³¼ ë§Œí•œ ë¶€ë¶„ë§Œ ê°„ì¶”ë¦¬ë©´ ì´ë ‡ìŠµë‹ˆë‹¤.

> [*UnaryExpression*] : `typeof` [*UnaryExpression*]
>
> 1. *val*ì„ [*UnaryExpression*]ì˜ ? [í‰ê°€ê°’][8.1]ìœ¼ë¡œ ì •í•œë‹¤. (ì¤‘ëµ)
> 1. {:value="9"}*val*ì´ [Numberì¼][6.1.6.1] ê²½ìš°, **"number"**ë¥¼ ë°˜í™˜í•œë‹¤.

ê·¸ëŸ°ë° [6.1.6.1 "Number íƒ€ì…"][6.1.6.1]ì—ì„œëŠ” `NaN`ë„ Numberì¸ ê²ƒìœ¼ë¡œ ì •ì˜í•˜ê³  ìˆìŠµë‹ˆë‹¤.[^fn-ecma262-language-types]

> *Number íƒ€ì…*ì€ ì •í™•íˆ 18,437,736,874,454,810,627(ì¦‰, $$2^{64} - 2^{53} + 3$$)ê°œì˜ ê°’ì„ ê°€ì§€ê³ , ë°°ì •ë°€ë„ 64ë¹„íŠ¸ ì„œì‹ [IEEE 754-2019](https://doi.org/10.1109/IEEESTD.2019.8766229) ê°’ì„ IEEE ì´ì§„ ë¶€ë™ì†Œìˆ«ì  ì‚°ìˆ  í‘œì¤€ì—ì„œ ëª…ì‹œí•œ ëŒ€ë¡œ ë‚˜íƒ€ë‚´ë‚˜, IEEE í‘œì¤€ì˜ 9,007,199,254,740,990(ì¦‰, $$2^{53} - 2$$)ê°œì˜ ì„œë¡œ ë‹¤ë¥¸ "Not-a-Number" ê°’ì€ ECMAScriptì—ì„œ íŠ¹ìˆ˜í•œ ë‹¨ì¼ **NaN** ê°’ìœ¼ë¡œ ë‚˜íƒ€ë‚´ì–´ì§„ë‹¤. (**NaN** ê°’ì€ í”„ë¡œê·¸ë¨ í‘œí˜„ì‹ `NaN`ìœ¼ë¡œ ìƒì„±ë¨ì— ìœ ì˜í•˜ë¼.) ...

## ë¬´ì—‡ì´ ë¬¸ì œì¼ê¹Œ?

ë°”ë¡œ ìœ„ì˜ ì¸ìš©ë¬¸ì—ì„œ ì£¼ëª©í•  ì ì´ ìˆìŠµë‹ˆë‹¤.

> ...IEEE í‘œì¤€ì˜ 9,007,199,254,740,990(ì¦‰, $$2^{53} - 2$$)ê°œì˜ ì„œë¡œ ë‹¤ë¥¸ "Not-a-Number" ê°’ì€...

NaN ê°’ì€ ì• ì´ˆì— **IEEE 754 í‘œì¤€**ì—ì„œ ì •ì˜í•˜ëŠ” ê°’ì´ê³ , ì ˆëŒ€ ë‹¤ìˆ˜ì˜ ë¶€ë™ì†Œìˆ«ì  ì—°ì‚°ì´ IEEE 754ë¥¼ ë”°ë¥´ê¸° ë•Œë¬¸ì— JavaScriptì—ì„œë„ í¬í•¨í•˜ê³  ìˆìŠµë‹ˆë‹¤. í•˜í•„ì´ë©´ ì´ ê°’ì— "ìˆ˜ê°€ ì•„ë‹ˆë‹¤"ë¼ëŠ” ì˜ë¯¸ì˜ ì´ë¦„ì´ ë¶™ì—ˆê³  JavaScriptê°€ ê¸°ë³¸ ìˆ˜ íƒ€ì…ì— "number"ë¼ëŠ” ì´ë¦„ì„ ë¶™ì—¬ë²„ë ¤ì„œ í˜¼ë€ì´ ìƒê²¼ë‹¤ëŠ” ëŠë‚Œì´ ë“¤ê¸´ í•©ë‹ˆë‹¤.

## ë‹¤ë¥¸ ì–¸ì–´ì—ì„œë„ ê·¸ëŸ´ê¹Œ?

ë„¤. NaNì´ ìˆëŠ” ë‹¤ë¥¸ ì–¸ì–´ì—ì„œë„ NaNì€ ë‹¤ë¥¸ ë¶€ë™ì†Œìˆ«ì  ì‹¤ìˆ˜ì™€ ë˜‘ê°™ì€ íƒ€ì…ì„ ê°€ì§€ê³ , JavaScriptë§Œ NaNì„ ë‹¤ë¥¸ íƒ€ì…ìœ¼ë¡œ ì·¨ê¸‰í•œë‹¤ë©´ ì˜¤íˆë ¤ ì´ìƒí•  ê²ƒì…ë‹ˆë‹¤.

```cpp
#include <iostream>
#include <cmath>
#include <typeinfo>

template<class T> void print_type(T x) {
	std::cout << typeid(x).name() << " " << x << std::endl;
}

int main() {
    double
		number = 12.34,
		not_a_number = 0./0.,
		explicit_nan = NAN;

	/*
		typeid(...).name()ì€ ì»´íŒŒì¼ëŸ¬ì— ë”°ë¼ ë‹¤ë¥¸ ê°’ì„ ë°˜í™˜í•  ìˆ˜ ìˆì§€ë§Œ,
		ê°™ì€ ì»´íŒŒì¼ëŸ¬ì—ì„œ ê°™ì€ íƒ€ì…ì´ë©´ ê°™ì€ ë¬¸ìì—´ì„ ë°˜í™˜í•©ë‹ˆë‹¤.
	*/
	print_type(number); // d 12.34
	print_type(not_a_number); // d nan
	print_type(explicit_nan); // d nan
    return 0;
}
```

```python
from math import nan

def print_type(x):
	print(type(x))

print_type(1.) # <class 'float'>
print_type(nan) # <class 'float'>
```

# `9999 9999 9999 9999`

ì´ ë¬¸ë‹¨ì„ í¬í•¨í•´ ê¸¸ì´ê°€ ê¸´ ìˆ˜ë¥¼ ì‘ì„±í•  ë•ŒëŠ” ë…ìì˜ í¸ì˜ë¥¼ ìœ„í•´ ë„¤ ìë¦¬ë§ˆë‹¤ ë„ì–´ì“°ê¸°ë¡œ ìë¦¿ìˆ˜ë¥¼ êµ¬ë¶„í•©ë‹ˆë‹¤.

## ì–´ë–»ê²Œ ëœ ê±¸ê¹Œ?

**ì´ê²ƒë„ IEEE 754 ë¬¸ì œì…ë‹ˆë‹¤.**

`9999 9999 9999 9999`ë¥¼ ì´ì§„ë²•ìœ¼ë¡œ ì“°ë©´ `10 0011 1000 0110 1111 0010 0110 1111 1100 0000 1111 1111 1111 1111`ì´ê³  ë§¨ ì•ì˜ 1ì„ ì œì™¸í•˜ë©´ ê°€ìˆ˜(significand)[^fn-significand]ê°€ 53ìë¦¬ì¸ë°, ë°°ì •ë°€ë„ ë¶€ë™ì†Œìˆ«ì ì€ ê°€ìˆ˜ê°€ 52ìë¦¬ë°–ì— ì—†ì–´ ì´ ê°’ì„ í‘œí˜„í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ê·¸ ëŒ€ì‹  ê°€ì¥ ê°€ê¹Œìš´ í‘œí˜„ ê°€ëŠ¥í•œ ê°’ìœ¼ë¡œ ë°˜ì˜¬ë¦¼í•œ ê²°ê³¼ê°€ `1 0000 0000 0000 0000`ì…ë‹ˆë‹¤.

ì•„ë‹ˆë©´ [float.exposed](https://float.exposed/0x4341c37937e08000)ì— ë¶€ë™ì†Œìˆ«ì  ê°’ì„ ì…ë ¥í•˜ë©´ ê·¸ ê°’ì˜ ë‚´ë¶€ í‘œí˜„ì„ ë³¼ ìˆ˜ ìˆëŠ”ë°, `9999 9999 9999 9999`ì˜ ê²½ìš° `1 0000 0000 0000 0000.0`ìœ¼ë¡œ ë°˜ì˜¬ë¦¼ë˜ê³ , ê·¸ ë¶€í˜¸-ì§€í‘œ-ê°€ìˆ˜ ê°’ì´ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

* ë¶€í˜¸(sign) = `0`
	* `0`ì´ë©´ ì–‘ìˆ˜, `1`ì´ë©´ ìŒìˆ˜ì…ë‹ˆë‹¤.
* ì§€í‘œ(exponent) = `1076`
	* ì´ ê°’ì—ì„œ `1023`ì„ ëº€ ê°’ì´ ì†Œìˆ«ì ì˜ ìœ„ì¹˜ê°€ ë©ë‹ˆë‹¤. $$1076 - 1023 = 53$$ì´ë¯€ë¡œ ì†Œìˆ«ì ì´ (ì´ì§„ë²• í‘œí˜„ì—ì„œ) ì˜¤ë¥¸ìª½ìœ¼ë¡œ 53ìë¦¬ ì´ë™í•©ë‹ˆë‹¤.
* ê°€ìˆ˜(significand) = `496 4003 7262 9504`
	* ì´ ê°’ì€ ì´ì§„ë²•ìœ¼ë¡œ `0001 1100 0011 0111 1001 0011 0111 1110 0000 1000 0000 0000 0000`ì¸ë°(ìœ„ì—ì„œ ì–¸ê¸‰í–ˆë“¯ì´ 52ìë¦¬ì…ë‹ˆë‹¤), ì´ ì•ì— `1.`ì„ ë¶™ì¸ `1.0001 1100 0011 0111 1001 0011 0111 1110 0000 1000 0000 0000 0000`ì—ì„œ ì†Œìˆ«ì ì„ ì ì ˆíˆ ì›€ì§ì¸ ê²ƒì´ ì‹¤ì œ ê°’ì´ ë©ë‹ˆë‹¤.

ì—¬ê¸°ì„œ ê°€ìˆ˜ë¥¼ 1 ë‚´ë¦¬ë©´ ì•„ë‹ˆë‚˜ë‹¤ë¥¼ê¹Œ `9999 9999 9999 9998.0`ì´ ë©ë‹ˆë‹¤.

## ë‹¤ë¥¸ ì–¸ì–´ì—ì„œë„ ê·¸ëŸ´ê¹Œ?

ë„¤.

```c
#include <stdio.h>

int main(void) {
	double gazillion = 9999999999999999.;
    printf("%f\n", gazillion); // 10000000000000000.000000
    return 0;
}
```

## í•´ê²°í•  ìˆ˜ ìˆì„ê¹Œ?

ì§„ì§œë¡œ ì •ìˆ˜ `9999 9999 9999 9999`ë¥¼ ì •í™•íˆ í‘œí˜„í•˜ê³  ì‹¶ë‹¤ë©´ [BigInt](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/BigInt) `9999999999999999n`ì„ ì“°ë©´ ë©ë‹ˆë‹¤. ë‹¨, ì†Œìˆ˜ëŠ” í‘œí˜„í•  ìˆ˜ ì—†ìœ¼ë©° BigIntë¼ë¦¬ë§Œ ì—°ì‚°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

# `0.1+0.2==0.3`

## ì–´ë–»ê²Œ ëœ ê±¸ê¹Œ?

**ì´ê²ƒë„ IEEE 754 ë¬¸ì œì…ë‹ˆë‹¤.**

ì—­ì‹œ float.exposed(ë¬´ê´€í•˜ì§€ë§Œ ì£¼ì†Œê°€ ì™¸ìš°ê¸° ì •ë§ ì¢‹ë„¤ìš”)ì— `0.1`, `0.2`, `0.3`, `0.3000 0000 0000 0000 4`ë¥¼ ì…ë ¥í•˜ë©´ ì´ë ‡ê²Œ ë©ë‹ˆë‹¤.

* `0.1` â†’ `0.1000 0000 0000 0000 0555 1`
	* ë¶€í˜¸ = `0`
	* ì§€í‘œ = `1019`
	* ê°€ìˆ˜ = `2702 1597 7642 2298` (ì‹­ì§„ë²•), `1001 1001 1001 1001 1001 1001 1001 1001 1001 1001 1001 1001 1010` (ì´ì§„ë²•)
* `0.2` â†’ `0.2000 0000 0000 0000 1110 2`
	* ë¶€í˜¸ = `0`
	* ì§€í‘œ = `1020`
	* ê°€ìˆ˜ = `2702 1597 7642 2298` (ì‹­ì§„ë²•), `1001 1001 1001 1001 1001 1001 1001 1001 1001 1001 1001 1001 1010` (ì´ì§„ë²•)
* `0.3` â†’ `0.2999 9999 9999 9999 8889 8`
	* ë¶€í˜¸ = `0`
	* ì§€í‘œ = `1021`
	* ê°€ìˆ˜ = `900 7199 2547 4099` (ì‹­ì§„ë²•), `0011 0011 0011 0011 0011 0011 0011 0011 0011 0011 0011 0011 0011` (ì´ì§„ë²•)
* `0.3000 0000 0000 0000 4` â†’ `0.3000 0000 0000 0000 4440 9`
	* ë¶€í˜¸ = `0`
	* ì§€í‘œ = `1021`
	* ê°€ìˆ˜ = `900 7199 2547 4100` (ì‹­ì§„ë²•), `0011 0011 0011 0011 0011 0011 0011 0011 0011 0011 0011 0011 0100` (ì´ì§„ë²•)
		* ë°”ë¡œ ìœ„ì˜ `0.3`ë³´ë‹¤ ê°€ìˆ˜ë§Œ 1 í½ë‹ˆë‹¤.

`0.1` `0.2` `0.3` ëª¨ë‘ ì´ì§„ë²•ìœ¼ë¡œ í‘œí˜„í•˜ë©´ ìˆœí™˜ì†Œìˆ˜ê°€ ë˜ê¸° ë•Œë¬¸ì— ê°€ì¥ ê°€ê¹Œìš´ ë¶€ë™ì†Œìˆ«ì ìœ¼ë¡œ ë°˜ì˜¬ë¦¼ì´ ë˜ëŠ”ë°, ì´ë•Œ ìƒê¸´ ì˜¤ë¥˜ê°€ ëˆ„ì ë˜ë©´ì„œ ìƒê¸°ëŠ” í˜„ìƒì…ë‹ˆë‹¤.

ë°”ë¡œ ìœ„ ì¤„ì—ì„œëŠ” `0.5+0.1==0.6`ì´ ì„±ë¦½í•˜ëŠ”ë°, ì´ëŠ” `0.5`ê°€ ë°°ì •ë°€ë„ ë¶€ë™ì†Œìˆ«ì ìœ¼ë¡œ ì •í™•íˆ í‘œí˜„ ê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

* `0.5`
	* ë¶€í˜¸ = `0`
	* ì§€í‘œ = `1022`
	* ê°€ìˆ˜ = `0` (ì‹­ì§„ë²•), `0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000 0000` (ì´ì§„ë²•)

## ë‹¤ë¥¸ ì–¸ì–´ì—ì„œë„ ê·¸ëŸ´ê¹Œ?

[ê²Œì„ë©”ì´ì»¤ ì–¸ì–´ì—ë„ ì´ ë¬¸ì œê°€ ìˆì–´ì„œ ë¸”ë¡œê·¸ì—ì„œ ì–¸ê¸‰í•œ ì ì´ ìˆìŠµë‹ˆë‹¤](/2020/04/24/gms-tips.html#01--02-neq-03). ì‹¬ì§€ì–´ **[ìœ ëª…í•œ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì—ì„œ 0.1 + 0.2ë¥¼ í•œ ê²°ê³¼ë¥¼ ëª¨ì€ ì›¹í˜ì´ì§€](https://0.30000000000000004.com/)**ë„ ìˆìŠµë‹ˆë‹¤.

# `Math.max()`

## ì–´ë–»ê²Œ ëœ ê±¸ê¹Œ?

[21.3.2.24 "Math.max(...*args*)"][21.3.2.24]ì—ì„œ ì´ í•¨ìˆ˜ì˜ ì•Œê³ ë¦¬ì¦˜ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

> 1. *coerced*ë¥¼ ìƒˆë¡œìš´ ë¹„ì–´ ìˆëŠ” [ë¦¬ìŠ¤íŠ¸][6.2.2]ë¡œ ì •í•œë‹¤.
> 1. *args*ì˜ ê° ì›ì†Œ *arg*ë§ˆë‹¤,
> 	1. ? [ToNumber][7.1.4](*arg*)ë¥¼ *n*ì´ë¼ í•œë‹¤.[^fn-tonumber]
> 	1. *coerced*ì˜ ë§¨ ëì— *n*ì„ ì¶”ê°€í•œë‹¤.
> 	{:ol2}
> 1. *highest*ë¥¼ $$-\infty_\mathbb{F}$$ë¡œ ì •í•œë‹¤.[^fn-subscript-f]
> 1. *coerced*ì˜ ê° ì›ì†Œ *number*ë§ˆë‹¤,
> 	1. *number*ê°€ **NaN**ì´ë©´, **NaN**ì„ ë°˜í™˜í•œë‹¤.
> 	1. *number*ê°€ $$+0_\mathbb{F}$$ì´ê³  *highest*ê°€ $$-0_\mathbb{F}$$ì´ë©´, *highest*ë¥¼ $$+0_\mathbb{F}$$ë¡œ ë°”ê¾¼ë‹¤.
> 	1. *number* > *highest*ì´ë©´, *highest*ë¥¼ *number*ë¡œ ë°”ê¾¼ë‹¤.
> 	{:ol2}
> 1. *highest*ë¥¼ ë°˜í™˜í•œë‹¤.

ì´ë•Œ *args*ê°€ ë¹ˆ ë°°ì—´ì´ë©´ *coerced*ë„ ë¹ˆ ë¦¬ìŠ¤íŠ¸ê°€ ë˜ê³ , 4ë²ˆ ë‹¨ê³„ê°€ ì‹¤í–‰ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì— *highest*ì˜ ì´ˆê¹ƒê°’ì¸ $$-\infty_\mathbb{F}$$, ì¦‰ `-Infinity`ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

[21.3.2.25 "Math.min(....*args*)"][21.3.2.25]ë„ ë¬´í•œëŒ€ì˜ ë¶€í˜¸ì™€ ë¶€ë“±í˜¸ì˜ ë°©í–¥ì„ ì œì™¸í•˜ë©´ ê°™ì€ ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

## ë¬´ì—‡ì´ ë¬¸ì œì¼ê¹Œ?

`Math.max`ëŠ” ì• ì´ˆì— **ì¸ìë¡œ ì£¼ì–´ì§„ ìˆ˜ ì¤‘ì—** ê°€ì¥ í° ìˆ˜ë¥¼ êµ¬í•˜ëŠ” í•¨ìˆ˜ì§€, ë¬´í„±ëŒ€ê³  ê°€ì¥ í° ìˆ˜ë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ê°€ ì•„ë‹™ë‹ˆë‹¤. `-Infinity`ê°€ ì•„ë‹ˆë¼ `Infinity`ì¼ ì´ìœ ê°€ ì „í˜€ ì—†ìŠµë‹ˆë‹¤.

ì¸ìë¥¼ 0ê°œ ì „ë‹¬ë°›ì•˜ì„ ë•Œ ê·¸ëƒ¥ `throw`ë¥¼ í•´ë„ ë˜ê¸´ í•˜ì§€ë§Œ, `-Infinity`ë¥¼ ë°˜í™˜í•˜ê² ë‹¤ë©´ ê·¸ ì´ìœ ë¥¼ ìˆ˜í•™ì ìœ¼ë¡œ ì •ë‹¹í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. (ì‹¤ìˆ˜ì˜) ë§ì…ˆì—ëŠ” **[í•­ë“±ì›](https://ko.wikipedia.org/wiki/í•­ë“±ì›)**, ì¦‰ $$a + e = a$$ì™€ $$e + a = a$$ë¥¼ ë§Œì¡±í•˜ëŠ” $$e = 0$$ì´ ìˆê³ , ëª¨ë“  ë§ì…ˆì€ ì•”ë¬µì ìœ¼ë¡œ í•­ë“±ì›ì´ ë¶™ëŠ” ê²ƒìœ¼ë¡œ ìƒê°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

$$a + b + c = 0 + a + b + c$$

ì¦‰, "0ê°œì˜ ìˆ˜ë¥¼ ë”í•˜ëŠ” ê²ƒ"ì€ "ë§ì…ˆì˜ í•­ë“±ì›ì— 0ê°œì˜ ìˆ˜ë¥¼ ë”í•˜ëŠ” ê²ƒ", ì¦‰ ê·¸ëƒ¥ ë§ì…ˆì˜ í•­ë“±ì›ì´ ë˜ëŠ” ê²ƒìœ¼ë¡œ ì´í•´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

$$\sum_{x \in \emptyset} x = 0$$

í•œí¸ $$\max$$ ì—°ì‚°ì—ë„ $$\max(a, e) = a$$ì™€ $$\max(e, a) = a$$ë¥¼ ë§Œì¡±í•˜ëŠ” í•­ë“±ì›ì´ ìˆëŠ”ë°, ì´ ê°’ì´ ë‹¤ë¦„ì•„ë‹Œ **$$-\infty$$ì…ë‹ˆë‹¤**.[^fn-max-identity] ì¦‰, ìœ„ì™€ ê°™ì€ ë…¼ë¦¬ë¡œ 0ê°œì˜ ìˆ˜ì˜ ìµœëŒ“ê°’ì€ $$-\infty$$ì¸ ê²ƒìœ¼ë¡œ ìƒê°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ë…¼ë¦¬ëŠ” `Math.min() == Infinity`ì—ë„ ë˜‘ê°™ì´ ì ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## í•´ê²°í•  ìˆ˜ ìˆì„ê¹Œ?

JavaScriptì—ì„œ ê° ë¶„ì•¼ë³„ë¡œ ê°€ì¥ í°/ì‘ì€ Number íƒ€ì…ì˜ ìˆ˜ëŠ” ë‹¤ìŒê³¼ ê°™ì´ êµ¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

* ê°€ì¥ í°/ì‘ì€ ìˆ˜: `Infinity`/`-Infinity`
* ê°€ì¥ í° ìœ í•œìˆ˜: `Number.MAX_VALUE` = `1.7976 9313 4862 3157e+308`
* ì •í™•íˆ ë‚˜íƒ€ë‚¼ ìˆ˜ ìˆëŠ” ê°€ì¥ í°/ì‘ì€ ì •ìˆ˜: `Number.MAX_SAFE_INTEGER` = `9007 1992 5474 0991`/`Number.MIN_SAFE_INTEGER` = `-9007 1992 5474 0991`
* 0ë³´ë‹¤ í° ê°€ì¥ ì‘ì€ ìˆ˜: `Number.MIN_VALUE` = `5e-324`

# `[]+[]`, `[]+{}`, `{}+[]`

`(!+[]+[]+![]).length`, `9+"1"`, `91-"1"`ì€ ìƒëµí•˜ê² ìŠµë‹ˆë‹¤.

## ì–´ë–»ê²Œ ëœ ê±¸ê¹Œ?

ë§ì…ˆ ì—°ì‚°ìì˜ ì˜ë¯¸ë¡ ì€ [13.15.4 "EvaluateStringOrNumericBinaryExpression(*leftOperand*, *opText*, *rightOperand*)"][13.15.4]ë¥¼ ê±°ì³ [13.15.3 "ApplyStringOrNumericBinaryOperator(*lval*, *opText*, *rval*)"][13.15.3]ì—ì„œ ì •ì˜ë©ë‹ˆë‹¤. ì´ ê¸€ì—ì„œ ì¤‘ìš”í•˜ê²Œ ë³¼ ë§Œí•œ ë¶€ë¶„ë§Œ ê°„ì¶”ë¦¬ë©´ ë‹¤ìŒê³¼ ê°™ìœ¼ë©°, ì´ ê²½ìš°ì—ëŠ” *opText*ê°€ `+`ì…ë‹ˆë‹¤.

> 1. *opText*ê°€ `+`ì¼ ê²½ìš°,
> 	1. *lprim*ì„ ? [ToPrimitive][7.1.1](*lval*)ë¡œ ì •í•œë‹¤.
> 	1. *rprim*ì„ ? [ToPrimitive][7.1.1](*rval*)ë¡œ ì •í•œë‹¤.
> 	1. *lprim*ì´ [Stringì´ê±°ë‚˜][6.1.4] *rprim*ì´ [Stringì¼][6.1.4] ê²½ìš°,
> 		1. *lstr*ì„ ? [ToString][7.1.17](*lprim*)ìœ¼ë¡œ ì •í•œë‹¤.[^fn-tostring]
> 		1. *rstr*ì„ ? [ToString][7.1.17](*rprim*)ìœ¼ë¡œ ì •í•œë‹¤.
> 		1. *lstr*ì™€ *rstr*ì˜ [ì—°ê²°ë¬¸ìì—´]ì„ ë°˜í™˜í•œë‹¤.
> 		{:ol3}
> 	1. (í›„ëµ)
> 	{:ol2}
> 1. (í›„ëµ)

ì—¬ê¸°ì„œ [7.1.1 "ToPrimitive(*input*[, *preferredType*])"][7.1.1]ëŠ” Objectì¸ ê°’ì„ Objectê°€ ì•„ë‹Œ ì›ì‹œê°’ìœ¼ë¡œ ë°”ê¾¸ëŠ” ì—°ì‚°ì´ë©°, `[]`ì™€ `{}`ì˜ ê²½ìš°ì—ëŠ” ëª¨ë‘ `.toString()`ì„ í˜¸ì¶œí•˜ëŠ” ì—°ì‚°ì´ ë©ë‹ˆë‹¤.

`[]+[]`ì™€ `[]+{}`ì€ ëª¨ë‘ ì´í•­ ë§ì…ˆ ì—°ì‚°ìì˜ ì˜ë¯¸ë¡ ìœ¼ë¡œ ì„¤ëª…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

* `[].toString()` = `""`ì´ë¯€ë¡œ `[]+[]` = `"" + ""` = `""`ì…ë‹ˆë‹¤.
* `{}.toString()` = `"[object Object]"`ì´ë¯€ë¡œ `[]+{}` = `"" + "[object Object]"` = `"[object Object]"`ê°€ ë©ë‹ˆë‹¤.

ë‹¤ë§Œ, `{}+[]`ëŠ” ì˜ˆì™¸ì ìœ¼ë¡œ ê°ì²´ `{}`ì™€ ë°°ì—´ `[]`ì„ ë”í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ **ë¹„ì–´ ìˆëŠ” ë¸”ë¡** `{}`ê³¼ ë°°ì—´ì— ë‹¨í•­ ë§ì…ˆì„ í•˜ëŠ” í‘œí˜„ì‹ `+[]`ìœ¼ë¡œ íŒŒì‹±ë˜ê¸° ë•Œë¬¸ì— ë‹¤ë¥¸ ê²°ê³¼ê°€ ë‚˜ì˜µë‹ˆë‹¤. ì´ ê°’ì€ [ToPrimitive][7.1.1](**[]**, NUMBER), [ToNumber][7.1.4](**""**), [StringToNumber][7.1.4.1.1](**""**), [StringNumericValue][7.1.4.1.2]ì˜ ë§ì€ ë‹¨ê³„ë¥¼ ê±°ì³ $$+0_\mathbb{F}$$, ì¦‰ `0`ì´ ë©ë‹ˆë‹¤. `+[]` = `0`ì´ë¼ëŠ” ë‚´ìš©ì„ ì´ë ‡ê²Œê¹Œì§€ ëŠ˜ì—¬ì„œ ì¨ë„ ë˜ë‚˜...? ì°¸ê³ ë¡œ `({}+[])`ì€ ì •ìƒì (?)ìœ¼ë¡œ `"[object Object]"`ê°€ ë©ë‹ˆë‹¤.

## ë¬´ì—‡ì´ ë¬¸ì œì¼ê¹Œ?

ì–´... ì´ê±´(íŠ¹íˆ ì²˜ìŒ ë‘ ê°œëŠ”) ì–¸ì–´ ì„¤ê³„ì˜ ì˜ëª»ì´ë¼ëŠ” ê²Œ ê°œì¸ì ì¸ ì˜ê²¬ì…ë‹ˆë‹¤. í˜¹ì‹œ `(!+[]+[]+![]).length`ì— í¥ë¯¸ê°€ ìƒê¸°ì‹ ë‹¤ë©´ [ì´ í˜ì´ì§€](https://jsfuck.com/)ë„ í™•ì¸í•´ ë³´ì„¸ìš”.

# `true+true+true===3`, `true-true`

## ì–´ë–»ê²Œ ëœ ê±¸ê¹Œ?

ë§ì…ˆ ì—°ì‚°ìì˜ ì˜ë¯¸ë¡ ì„ ë‹¤ì‹œ í•œ ë²ˆ ì‚´í´ë´…ì‹œë‹¤. ì´ ê²½ìš°ì—ë„ *opText*ê°€ `+`ì…ë‹ˆë‹¤.

> 1. *opText*ê°€ `+`ì¼ ê²½ìš°,
> 	1. *lprim*ì„ ? [ToPrimitive][7.1.1](*lval*)ë¡œ ì •í•œë‹¤.
> 	1. *rprim*ì„ ? [ToPrimitive][7.1.1](*rval*)ë¡œ ì •í•œë‹¤. (ì¤‘ëµ)
> 	1. {:value="4"}*lval*ì„ *lprim*ìœ¼ë¡œ ë°”ê¾¼ë‹¤.
> 	1. {:value="4"}*rval*ì„ *rprim*ìœ¼ë¡œ ë°”ê¾¼ë‹¤.
> 	{:ol2}
> 1. ì°¸ê³ : ì´ ì‹œì ì— ì´ ì—°ì‚°ì€ ìˆ˜ ì—°ì‚°ì´ì–´ì•¼ í•œë‹¤.
> 1. *lnum*ì„ ? [ToNumeric][7.1.3](*lval*)ë¡œ ì •í•œë‹¤.
> 1. *rnum*ì„ ? [ToNumeric][7.1.3](*rval*)ë¡œ ì •í•œë‹¤. (ì¤‘ëµ)
> 1. {:value="7"}*operation*ì„ ì•„ë˜ í‘œì—ì„œ *opText*ì™€ [Type][6](*lnum*)ì— ëŒ€ì‘ë˜ëŠ” ì¶”ìƒ ì—°ì‚°ìœ¼ë¡œ ì •í•œë‹¤.
> 1. *operation*(*lnum*, *rnum*)ì„ ë°˜í™˜í•œë‹¤.

ì´ë•Œ [ToNumeric][7.1.3](**true**)ëŠ” [ToNumber][7.1.4](**true**)ë¥¼ ê±°ì³ $$1_\mathbb{F}$$, ì¦‰ `1`ì´ ë©ë‹ˆë‹¤. ë˜í•œ 7ë²ˆì§¸ ë‹¨ê³„ì—ì„œ ì–¸ê¸‰í•œ í‘œë¥¼ ì˜®ê¸°ì§€ëŠ” ì•Šê² ì§€ë§Œ *opText* = `+`, [Type][6]($$1_\mathbb{F}$$) = Numberì— ëŒ€ì‘ë˜ëŠ” ì—°ì‚°ì€ [Number::add][6.1.6.1.7]ì´ê³ , ì´ ì—°ì‚°ì€ ë³´í†µì˜ ë§ì…ˆ ì—°ì‚°ì´ë¯€ë¡œ ê²°ê³¼ì ìœ¼ë¡œëŠ” $$1 + 1 + 1 = 3$$ì´ ë©ë‹ˆë‹¤. `true-true`ë„ ë¹„ìŠ·í•œ ê³¼ì •ì„ ê±°ì³ $$1 - 1 = 0$$ì´ ë©ë‹ˆë‹¤.

## ë¬´ì—‡ì´ ë¬¸ì œì¼ê¹Œ?

ì œ ê°œì¸ ì˜ê²¬ì„ ë§ì”€ë“œë¦¬ìë©´, `true`ì— 1ì„, `false`ì— 0ì„ ëŒ€ì‘ì‹œí‚¤ëŠ” ê²ƒì€ ë§¤ìš° ìì—°ìŠ¤ëŸ¬ìš´ í˜„ìƒì´ê³ , JavaScriptì˜ ì˜ëª»ì´ ìˆë‹¤ë©´ ìœ„ì˜ `[]+[]`ì´ë‚˜ `[]+{}`ì²˜ëŸ¼ ë¶€ìš¸ì„ ì •ìˆ˜ë¡œ í˜•ë³€í™˜í•œ ê²ƒ ì •ë„ì…ë‹ˆë‹¤. ìµœì†Œí•œ `[]`ì„ `""`ìœ¼ë¡œ, `{}`ë¥¼ `"[object Object]"`ë¡œ ë³€í™˜í•œ ê²ƒë³´ë‹¤ëŠ” ì§ê´€ì ì´ì§€ ì•Šë‚˜ìš”?

ì € í˜¼ìë§Œ ê·¸ë ‡ê²Œ ìƒê°í•˜ëŠ” ê±¸ê¹Œ í•´ì„œ [Bard](https://bard.google.com/)ì—ê²Œ ë¬¼ì–´ë³¸ ê²°ê³¼ëŠ” ì´ë ‡ìŠµë‹ˆë‹¤.

> **Yes, it is quite natural and common to associate the boolean value `true` with one and `false` with zero. There are several reasons for this convention:**
> 
> **1. Boolean Algebra and Number Theory:**
> 
> * **Boolean algebra**, the mathematical foundation for logical operations, treats truth values as elements of a two-element set, often represented as {0, 1}.
> * **In number theory**, 0 often signifies an empty or null set, while 1 represents the presence or existence of something. This aligns with the concepts of false and true.
> 
> **2. Computer Science and Hardware Design:**
> 
> * **Binary representation:** Computers store and process information in binary format, using 0s and 1s. This makes mapping boolean values to 0 and 1 efficient and intuitive.
> * **Digital logic circuits:** They use voltage levels to represent boolean values, with low voltage (near 0) typically indicating false and high voltage (near a reference level) indicating true.
> 
> **3. Programming Languages:**
> 
> * **Most programming languages** adopt this convention, using 0 for false and non-zero values (usually 1) for true.
> * **This simplifies logical operations** and conditional statements, as numerical comparisons directly correspond to boolean logic.
> 
> **4. Cognitive Intuition:**
> 
> * **Conceptually, 1 can be associated with presence, existence, or activation, which aligns with the idea of truth.**
> * **Conversely, 0 can be associated with absence, emptiness, or deactivation, aligning with the notion of falsity.**
> 
> **5. Consistency and Convention:**
> 
> * **The widespread adoption of this convention** across mathematics, computer science, and various fields has reinforced its naturalness and intuitiveness.
> * **Maintaining consistency** in representations aids in understanding, communication, and collaboration.
> 
> **While this association is not inherently necessary, its prevalence across multiple disciplines and its alignment with intuitive concepts make it a natural and practical choice for representing boolean values.**

## ë‹¤ë¥¸ ì–¸ì–´ì—ì„œë„ ê·¸ëŸ´ê¹Œ?

ì ì–´ë„ C++ì™€ Pythonì—ë„ ë¶€ìš¸ì„ ì •ìˆ˜ë¡œ ì•”ì‹œì ìœ¼ë¡œ í˜•ë³€í™˜í•˜ëŠ” ë™ì‘ì´ ìˆìŠµë‹ˆë‹¤.

```cpp
#include <iostream>
#include <typeinfo>

template<class T> void print_type(T x) {
	std::cout << typeid(x).name() << " " << x << std::endl;
}

int main() {
	print_type(true); // b 1
	print_type(true + true + true); // i 3
	print_type(true - true); // i 0
    return 0;
}
```

```python
def print_type(x):
	print(f"{type(x)} {x}")

print_type(True) # <class 'bool'> True
print_type(True + True + True) # <class 'int'> 3
print_type(True - True) # <class 'int'> 0
```

# `true==1`, `true===1`, `[]==0`

## ì–´ë–»ê²Œ ëœ ê±¸ê¹Œ?

`==` ì—°ì‚°ìì˜ ì˜ë¯¸ë¡ ì€ [7.2.14 "IsLooselyEqual(*x*, *y*)"][7.2.14], `===` ì—°ì‚°ìì˜ ì˜ë¯¸ë¡ ì€ [7.2.15 "IsStrictlyEqual(*x*, *y*)"][7.2.15]ì—ì„œ ì •ì˜í•˜ê³  ìˆëŠ”ë°, ì´ìœ ëŠ” ì˜ ëª¨ë¥´ê² ì§€ë§Œ ì—°ì‚°ìì˜ ì¢Œë³€ê³¼ ìš°ë³€ì´ ì¶”ìƒ ì—°ì‚°ì—ì„œëŠ” ë°”ë€Œì–´ì„œ í˜¸ì¶œë˜ê³  ìˆìŠµë‹ˆë‹¤.

[IsStrictlyEqual][7.2.15](*x*, *y*)ì€ ë‘ ê°’ì˜ íƒ€ì…ê¹Œì§€ ì¼ì¹˜í•´ì•¼ í•˜ëŠ” ë™ì¼ì„± ë¹„êµ ì—°ì‚°ì…ë‹ˆë‹¤.

> 1. [Type][6](*x*)ê°€ [Type][6](*y*)ì™€ ë‹¤ë¥¼ ê²½ìš°, **false**ë¥¼ ë°˜í™˜í•œë‹¤. (í›„ëµ)

[IsLooselyEqual][7.2.14](*x*, *y*)ì€ ë‘ ê°’ì˜ íƒ€ì…ì´ ë‹¤ë¥¼ ë•Œ í˜•ë³€í™˜ì„ í•´ì„œ ë¹„êµí•˜ëŠ” ì—°ì‚°ì…ë‹ˆë‹¤.

> 1. [Type][6](*x*)ê°€ [Type][6](*y*)ì¼ ê²½ìš°,
> 	1. [IsStrictlyEqual][7.2.15](*x*, *y*)ë¥¼ ë°˜í™˜í•œë‹¤.
> 	{:ol2}
> 1. {:value="5"}*x*ê°€ [Numberì´ê³ ][6.1.6.1] *y*ê°€ [Stringì¼][6.1.4] ê²½ìš°, ! [IsLooselyEqual][7.2.14](*x*, ! [ToNumber][7.1.4](*y*))ë¥¼ ë°˜í™˜í•œë‹¤.
> 1. {:value="10"}*y*ê°€ [Booleanì¼][6.1.3] ê²½ìš°, ! [IsLooselyEqual][7.2.14](*x*, ! [ToNumber][7.1.4](*y*))ë¥¼ ë°˜í™˜í•œë‹¤.
> 1. *x*ê°€ String, Number, BigInt, Symbol ì¤‘ í•˜ë‚˜ì´ê³  *y*ê°€ [Objectì¼][6.1.6.1.7] ê²½ìš°, ! [IsLooselyEqual][7.2.14](*x*, ! [ToPrimitive][7.1.1](*y*))ë¥¼ ë°˜í™˜í•œë‹¤. (í›„ëµ)

ìœ„ì˜ ì„¸ ë¹„êµ ì—°ì‚°ì€ ë‹¤ìŒ ìˆœì„œëŒ€ë¡œ ì§„í–‰ë©ë‹ˆë‹¤.

* `true==1` (*x* = $$1_\mathbb{F}$$, *y* = **true**)
	1. *y*ê°€ Booleanì´ë¯€ë¡œ *y*ë¥¼ [ToNumber][7.1.4](*y*) = $$1_\mathbb{F}$$ë¡œ ë°”ê¾¸ê³  ë‹¤ì‹œ ë¹„êµí•©ë‹ˆë‹¤. (*y* = $$1_\mathbb{F}$$)
	1. *x*ì™€ *y*ê°€ ê°™ì€ íƒ€ì…ì´ë¯€ë¡œ [IsStrictlyEqual][7.2.15]ë¡œ ë¹„êµí•©ë‹ˆë‹¤.
	1. *x*ì™€ *y*ê°€ **NaN**ì´ ì•„ë‹ˆê³  ê°™ì€ ê°’ì„ ê°€ì§€ë¯€ë¡œ **true**ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
* `true===1` (*x* = $$1_\mathbb{F}$$, *y* = **true**)
	1. *x*ì™€ *y*ê°€ ë‹¤ë¥¸ íƒ€ì…ì´ë¯€ë¡œ **false**ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
* `[]==0` (*x* = $$+0_\mathbb{F}$$, *y* = **[]**)
	1. *x*ê°€ Numberì´ê³  *y*ê°€ Objectì´ë¯€ë¡œ *y*ë¥¼ [ToPrimitive][7.1.1](*y*)ë¡œ ë°”ê¾¸ê³  ë‹¤ì‹œ ë¹„êµí•©ë‹ˆë‹¤. (*y* = **""**)
	1. *x*ê°€ Numberì´ê³  *y*ê°€ Stringì´ë¯€ë¡œ *y*ë¥¼ [ToNumber][7.1.4](*y*) = $$1_\mathbb{F}$$ë¡œ ë°”ê¾¸ê³  ë‹¤ì‹œ ë¹„êµí•©ë‹ˆë‹¤. (*y* = $$+0_\mathbb{F}$$)
	1. *x*ì™€ *y*ê°€ ê°™ì€ íƒ€ì…ì´ë¯€ë¡œ [IsStrictlyEqual][7.2.15]ë¡œ ë¹„êµí•©ë‹ˆë‹¤.
	1. *x*ì™€ *y*ê°€ **NaN**ì´ ì•„ë‹ˆê³  ê°™ì€ ê°’ì„ ê°€ì§€ë¯€ë¡œ **true**ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

## ë¬´ì—‡ì´ ë¬¸ì œì¼ê¹Œ?

ì´ê²ƒë„ `[]+[]`ì²˜ëŸ¼ JavaScript ì˜ëª»ì´ ë§ì•„ì„œ ì œê°€ ë­ë¼ê³  í•  ìˆ˜ê°€ ì—†ê¸´ í•œë°, ëŒ€ì‹  2021ë…„ 8ì›”ì— ë´¤ë˜ [ì´ ê¸€](https://algassert.com/visualization/2014/03/27/Better-JS-Equality-Table.html)(ì˜ì–´)ì„ ê³µìœ í•´ë“œë¦´ ìˆ˜ëŠ” ìˆì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.

<blockquote class="twitter-tweet" data-dnt="true"><p lang="ko" dir="ltr">TL;DR: &quot;JSì˜ == ì—°ì‚°ìê°€ êµ¬ë¦° ê±´ ë§ì§€ë§Œ ì™¼ìª½ë§Œí¼ë§Œ êµ¬ë¦° ê±¸ ì˜¤ë¥¸ìª½ì²˜ëŸ¼ ë§Œë“¤ì–´ì„œ ì„ ë™ì§ˆí•˜ì§€ëŠ” ë§ˆë¼&quot; <a href="https://t.co/Ma2tqxn10L">pic.twitter.com/Ma2tqxn10L</a></p>&mdash; ì‡ì°½ëª… EatChangmyeongğŸ’• (@EatChangmyeong) <a href="https://twitter.com/EatChangmyeong/status/1426610751238590467?ref_src=twsrc%5Etfw">August 14, 2021</a>
</blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script> 

# ê²°ë¡ 

JavaScriptì˜ ë¬¸ì œê°€ ì•„ë‹Œ ê±¸ ì¹˜ìš°ê³  IEEE 754ì˜ ë¬¸ì œë§Œ ë”°ë¡œ ëª¨ì•„ë†“ìœ¼ë©´ ì´ ì •ë„ê°€ ë©ë‹ˆë‹¤.

![ìœ„ì˜ "Thanks for inventing Javascript" ì´ë¯¸ì§€ì—ì„œ ìë°”ìŠ¤í¬ë¦½íŠ¸ ìì²´ì˜ ë¬¸ì œì¸ ì½”ë“œë§Œ ë‚¨ê²¼ë‹¤.](/assets/post-images/thanks-for-inventing-javascript-fixed.png)

![ìœ„ì˜ "Thanks for inventing Javascript" ì´ë¯¸ì§€ì—ì„œ IEEE 754ì˜ ë¬¸ì œì¸ ì½”ë“œë§Œ ë‚¨ê¸°ê³  ë¬¸êµ¬ë¥¼ "Thanks for inventing IEEE 754"ë¡œ ìˆ˜ì •í–ˆë‹¤.](/assets/post-images/thanks-for-inventing-ieee-754.png)

ì°¨ë¼ë¦¬ JavaScriptë¥¼ ì´ë ‡ê²Œ ê¹ ìœ¼ë©´ ì €ë„ íŠ¸ìœ„í„°ì— "ìë°”ìŠ¤í¬ë¦½íŠ¸ë„˜êµ¬ë°ê¸°" ê°™ì€ ìì¡°ì ì¸ íŠ¸ìœ—ì„ ì“°ë©´ì„œ ì € ì§¤ì„ ì˜¬ë ¸ì„ ê²ë‹ˆë‹¤. ë§¨ ìœ„ì˜ ì§¤ì€ *JavaScript ìì²´ì˜ ë¬¸ì œê°€ ì•„ë‹Œ ê²ƒì„ ìŠ¬ì© ë¼ì›Œë„£ì–´ì„œ ë¬¸ì œì˜ ë³¸ì§ˆì„ íë¦¬ê³  ìˆìŠµë‹ˆë‹¤*. ì• ì´ˆì— ê·¸ëƒ¥ ì›ƒìê³  ë§Œë“  ë°ˆì§¤ì¸ë° ë¯¼ê°í•˜ê²Œ ë°˜ì‘í•œ ê°ë„ ì—†ì§€ëŠ” ì•Šì§€ë§Œ, ëˆ„êµ°ê°€ëŠ” ì´ ì–˜ê¸°ë¥¼ í•´ì•¼ í•œë‹¤ê³  í•­ìƒ ìƒê°í•˜ê³  ìˆì—ˆìŠµë‹ˆë‹¤. ì•„ë¬´íŠ¼ ì €ëŠ” í•  ë§ì„ ì „ë¶€ í–ˆìœ¼ë‹ˆ ì—¬í•œì´ ì—†ìŠµë‹ˆë‹¤. ğŸ˜

[^fn-ecma262-language-types]: ECMA-262 í‘œì¤€ì—ì„œ ì •ì˜í•˜ëŠ” "[ì–¸ì–´ íƒ€ì…][6.1]"(language types)ì€ `typeof`ê°€ ë°˜í™˜í•˜ëŠ” íƒ€ì…ê³¼ ë‹¤ì†Œ ì°¨ì´ê°€ ìˆëŠ”ë°, `null`ì€ Objectê°€ ì•„ë‹Œ ë³„ë„ì˜ Null íƒ€ì…ìœ¼ë¡œ, `"function"` íƒ€ì…ì€ ë‚´ë¶€ ë©”ì†Œë“œ \[\[Call\]\]ì´ ìˆëŠ” Object íƒ€ì…ìœ¼ë¡œ ë¶„ë¥˜ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
[^fn-significand]: ìƒìš©ë¡œê·¸ $$\log_{10} N = n + \log a$$ì—ì„œ $$n$$ì„ ì§€í‘œ, $$\log a$$ë¥¼ ê°€ìˆ˜ë¼ê³  í•˜ëŠ” ê²ƒì„ ì°¨ìš©í•œ í‘œê¸°ì…ë‹ˆë‹¤. ë‹¤ë¥¸ ê¸€ì—ì„œë„ ì´ë ‡ê²Œ ë²ˆì—­í•˜ëŠ”ì§€ëŠ” ì˜ ëª¨ë¥´ê² ë„¤ìš”.
[^fn-tonumber]: ToNumberëŠ” ì„ì˜ì˜ ê°’ì„ Numberë¡œ ë°”ê¾¸ëŠ” ì¶”ìƒ ì—°ì‚°ìœ¼ë¡œ, `+x`ì˜ ë™ì‘ê³¼ ì¼ì¹˜í•©ë‹ˆë‹¤.
[^fn-subscript-f]: ì•„ë˜ ì²¨ì $$\mathbb{F}$$ê°€ ë¶™ì€ ê°’ì€ JavaScriptì˜ Number ê°’ì„ ë‚˜íƒ€ë‚´ë©°, ì²¨ìê°€ ì—†ëŠ” ìˆ˜í•™ì  ì‹¤ìˆ˜ ê°’ê³¼ ëŒ€ë¹„ë©ë‹ˆë‹¤.
[^fn-max-identity]: ì—„ë°€íˆ ë§í•´ $$\max$$ì˜ í•­ë“±ì›ì€ [í™•ì¥ëœ ì‹¤ìˆ˜](https://en.wikipedia.org/wiki/Extended_real_number_line), ì¦‰ $$\pm \infty$$ê°€ ì¶”ê°€ëœ ì‹¤ìˆ˜ ì²´ê³„ì—ì„œë§Œ ì •ì˜ë˜ë©°, ì¼ë°˜ì ì¸ ì‹¤ìˆ˜ ì§‘í•©ì—ì„œëŠ” $$\max$$ì˜ í•­ë“±ì›ì´ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì¶”ê°€ë¡œ JavaScriptì˜ Numberì—ëŠ” `NaN`ì´ ì •ì˜ë˜ì–´ ìˆëŠ”ë°, $$\max(\mathrm{NaN}, -\infty) = \max(-\infty, \mathrm{NaN}) = \mathrm{NaN}$$ì´ë¯€ë¡œ ë¬¸ì œê°€ ì—†ìŠµë‹ˆë‹¤.
[^fn-tostring]: ToStringì€ Stringì´ ì•„ë‹Œ ê°’ì„ Stringì¸ ê°’ìœ¼ë¡œ ë°”ê¾¸ëŠ” ì¶”ìƒ ì—°ì‚°ì…ë‹ˆë‹¤. ì´ ë§¥ë½ì—ì„œëŠ” *lprim*ê³¼ *rprim*ì´ ëª¨ë‘ Stringì´ë¯€ë¡œ ì˜ë¯¸ ìˆëŠ” ë™ì‘ì„ í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

[6]: https://tc39.es/ecma262/multipage/ecmascript-data-types-and-values.html#sec-ecmascript-data-types-and-values
[6.1]: https://tc39.es/ecma262/multipage/ecmascript-data-types-and-values.html#sec-ecmascript-language-types
[6.1.3]: https://tc39.es/ecma262/multipage/ecmascript-data-types-and-values.html#sec-ecmascript-language-types-boolean-type
[6.1.4]: https://tc39.es/ecma262/multipage/ecmascript-data-types-and-values.html#sec-ecmascript-language-types-string-type
[6.1.6.1]: https://tc39.es/ecma262/multipage/ecmascript-data-types-and-values.html#sec-ecmascript-language-types-number-type
[6.1.6.1.7]: https://tc39.es/ecma262/multipage/ecmascript-data-types-and-values.html#sec-numeric-types-number-add
[6.1.7]: https://tc39.es/ecma262/multipage/ecmascript-data-types-and-values.html#sec-object-type
[6.2.2]: https://tc39.es/ecma262/multipage/ecmascript-data-types-and-values.html#sec-list-and-record-specification-type
[7.1.1]: https://tc39.es/ecma262/multipage/abstract-operations.html#sec-toprimitive
[7.1.3]: https://tc39.es/ecma262/multipage/abstract-operations.html#sec-tonumeric
[7.1.4]: https://tc39.es/ecma262/multipage/abstract-operations.html#sec-tonumber
[7.1.4.1.1]: https://tc39.es/ecma262/multipage/abstract-operations.html#sec-stringtonumber
[7.1.4.1.2]: https://tc39.es/ecma262/multipage/abstract-operations.html#sec-runtime-semantics-stringnumericvalue
[7.1.17]: https://tc39.es/ecma262/multipage/abstract-operations.html#sec-tostring
[7.2.14]: https://tc39.es/ecma262/multipage/abstract-operations.html#sec-islooselyequal
[7.2.15]: https://tc39.es/ecma262/multipage/abstract-operations.html#sec-isstrictlyequal
[8.1]: https://tc39.es/ecma262/multipage/syntax-directed-operations.html#sec-evaluation
[13.5.3.1]: https://tc39.es/ecma262/multipage/ecmascript-language-expressions.html#sec-typeof-operator-runtime-semantics-evaluation
[13.15.3]: https://tc39.es/ecma262/multipage/ecmascript-language-expressions.html#sec-applystringornumericbinaryoperator
[13.15.4]: https://tc39.es/ecma262/multipage/ecmascript-language-expressions.html#sec-evaluatestringornumericbinaryexpression
[21.3.2.24]: https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-math.max
[21.3.2.25]: https://tc39.es/ecma262/multipage/numbers-and-dates.html#sec-math.min

[ì—°ê²°ë¬¸ìì—´]: https://tc39.es/ecma262/multipage/ecmascript-data-types-and-values.html#string-concatenation
[*UnaryExpression*]: https://tc39.es/ecma262/multipage/ecmascript-language-expressions.html#prod-UnaryExpression
